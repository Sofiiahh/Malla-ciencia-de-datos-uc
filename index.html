<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Malla Curricular Interactiva</title>
<style>
  body { font-family: Arial, sans-serif; background: #f5f5f5; margin:0; padding:0; }
  h1 { text-align:center; margin:20px 0; }
  table { width:100%; border-collapse: collapse; table-layout: fixed; margin-bottom:20px; }
  th, td { border:1px solid #999; padding:6px; text-align:center; vertical-align:middle; cursor:pointer; word-wrap:break-word; width:12.5%; min-width:80px; transition: background-color 0.3s;}
  th { background-color:#444; color:white; }
  td div { line-height:1.2; }
  td.aprobado { text-decoration: line-through; color:white; font-weight:bold; }
  td.desbloqueado { font-weight:bold; cursor:pointer; }
  td.bloqueado { opacity:0.6; cursor:not-allowed; background-color:#E74C3C; color:white; }
  td.extra { background-color:#F8C1D5; cursor:default; }
  td input { width:100%; border:none; background:transparent; text-align:center; font-size:14px; }
  td input:focus { outline:none; }
  .semestre { font-weight:bold; background-color:#ddd; }
  .curso-nombre { font-size:14px; font-weight:normal; }
  .curso-sigla { font-size:11px; color:#555; }
</style>
</head>
<body>

<h1>Malla Curricular Interactiva</h1>

<table>
  <tr>
    <th class="semestre">1ER SEM</th>
    <th class="semestre">2DO SEM</th>
    <th class="semestre">3ER SEM</th>
    <th class="semestre">4TO SEM</th>
    <th class="semestre">5TO SEM</th>
    <th class="semestre">6TO SEM</th>
    <th class="semestre">7MO SEM</th>
    <th class="semestre">8VO SEM</th>
  </tr>

  <!-- Cursos -->
  <tr>
    <td id="FIL2001"></td>
    <td id="IC1103"></td>
    <td id="IIC2233"></td>
    <td id="IMT2220"></td>
    <td id="EYP2114"></td>
    <td id="EYP2101"></td>
    <td id="EYP2111"></td>
    <td id="IMT2270"></td>
  </tr>
  <tr>
    <td id="MAT1107"></td>
    <td id="MAT1610"></td>
    <td id="IMT2230"></td>
    <td id="IC2133"></td>
    <td id="IIC2613"></td>
    <td id="EYP2301"></td>
    <td id="EYP2801"></td>
    <td></td>
  </tr>
  <tr>
    <td id="MAT1207"></td>
    <td id="IMT2210"></td>
    <td id="ETI195"></td>
    <td id="IC2413"></td>
    <td id="LIC2440"></td>
    <td id="C2026"></td>
    <td id="IMT2260"></td>
    <td></td>
  </tr>
  <tr>
    <td id="MAT0007"></td>
    <td id="IMT2200"></td>
    <td id="IIC1253"></td>
    <td id="IMT2250"></td>
    <td id="OTRO"></td>
    <td id="IIC2433"></td>
    <td id="OPR_MINOR_7"></td>
    <td id="OPR_MINOR_8"></td>
  </tr>

  <!-- OFG -->
  <tr>
    <td><input type="text" id="ofg1" placeholder="OFG 1"></td>
    <td><input type="text" id="ofg2" placeholder="OFG 2"></td>
    <td><input type="text" id="ofg3" placeholder="OFG 3"></td>
    <td><input type="text" id="ofg4" placeholder="OFG 4"></td>
    <td><input type="text" id="ofg5" placeholder="OFG 5"></td>
    <td><input type="text" id="ofg6" placeholder="OFG 6"></td>
    <td><input type="text" id="ofg7" placeholder="OFG 7"></td>
    <td><input type="text" id="ofg8" placeholder="OFG 8"></td>
  </tr>

  <!-- Cursos extra -->
  <tr>
    <td class="extra" id="extra1"></td>
    <td class="extra" id="extra2"></td>
    <td class="extra" id="extra3"></td>
    <td class="extra" id="extra4"></td>
    <td class="extra" id="extra5"></td>
    <td class="extra" id="extra6"></td>
    <td class="extra" id="extra7"></td>
    <td class="extra" id="extra8"></td>
  </tr>
</table>

<script>
const cursos = {
  FIL2001:{nombre:"Filosofía",sigla:"FIL2001",aprobado:false},
  IC1103:{nombre:"Introducción a la Programación",sigla:"IC1103",aprobado:false},
  IIC2233:{nombre:"Programación Avanzada",sigla:"IIC2233",prereq:["IC1103"],aprobado:false},
  IMT2220:{nombre:"Cálculo para Ciencia de Datos",sigla:"IMT2220",prereq:["MAT1610"],aprobado:false},
  EYP2114:{nombre:"Inferencia Estadística",sigla:"EYP2114",prereq:["IMT2220","IMT2230"],aprobado:false},
  MAT1107:{nombre:"Introducción al Cálculo",sigla:"MAT1107",aprobado:false},
  MAT1610:{nombre:"Cálculo I",sigla:"MAT1610",prereq:["MAT1107"],aprobado:false},
  IMT2230:{nombre:"Álgebra Lineal Avanzada",sigla:"IMT2230",aprobado:false},
  IC2133:{nombre:"Estructuras de Datos",sigla:"IC2133",aprobado:false},
  IIC2613:{nombre:"Inteligencia Artificial",sigla:"IIC2613",aprobado:false},
  LIC2440:{nombre:"Procesamiento de Datos Masivos",sigla:"LIC2440",aprobado:false},
  // agrega todos los cursos que tengas...
};

function getColor(){
  const colores=["#F1948A","#5DADE2","#F4D03F","#58D68D","#AF7AC5","#F7DC6F","#45B39D","#DC7633"];
  return colores[Math.floor(Math.random()*colores.length)];
}

function estanPrerrequisitosAprobados(curso){
  if(!curso.prereq)return true;
  return curso.prereq.every(c=>cursos[c] && cursos[c].aprobado);
}

function actualizarMalla(){
  Object.keys(cursos).forEach(cod=>{
    const curso=cursos[cod];
    const td=document.getElementById(cod);
    if(!td)return;
    td.className="";
    td.style.backgroundColor="";
    td.innerHTML=`<div class="curso-nombre">${curso.nombre}</div><div class="curso-sigla">${curso.sigla}</div>`;
    if(curso.aprobado){
      td.classList.add("aprobado");
      td.style.backgroundColor="#27AE60";
    }else if(estanPrerrequisitosAprobados(curso)){
      td.classList.add("desbloqueado");
      td.style.backgroundColor=getColor();
      td.style.cursor="pointer";
    }else{
      td.classList.add("bloqueado");
      td.style.backgroundColor="#E74C3C";
      td.style.cursor="not-allowed";
    }
  });
}

function toggleAprobado(codigo){
  const curso=cursos[codigo];
  if(!curso)return;
  if(!estanPrerrequisitosAprobados(curso))return;
  curso.aprobado=!curso.aprobado;
  actualizarMalla();
}

document.addEventListener("DOMContentLoaded",()=>{
  actualizarMalla();
  Object.keys(cursos).forEach(cod=>{
    const td=document.getElementById(cod);
    if(td){
      td.addEventListener("click",()=>toggleAprobado(cod));
    }
  });
});
</script>

</body>
</html>
